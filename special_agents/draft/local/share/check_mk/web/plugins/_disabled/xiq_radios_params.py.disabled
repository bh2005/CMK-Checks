#!/usr/bin/env python3
# -*- coding: utf-8 -*-
from cmk.gui.i18n import _
from cmk.gui.valuespec import Dictionary, Tuple, Integer
from cmk.gui.plugins.wato import (
    CheckParameterRulespecWithoutItem,
    RulespecGroupCheckParametersApplications,
    rulespec_registry,
)

def _vs_xiq_radios_clients():
    return Dictionary(
        title=_("XIQ Radios – Clients je Frequenz (Warn/Kritisch)"),
        elements=[
            ("global_levels",
             Tuple(
                 title=_("Warn/Kritisch (alle Bänder)"),
                 elements=[
                     Integer(title=_("Warn"), minvalue=0, default_value=50),
                     Integer(title=_("Kritisch"), minvalue=0, default_value=100),
                 ],
                 help=_("Diese Schwellen gelten, sofern unten keine band-spezifischen Werte gesetzt sind."),
             )
            ),
            ("per_band",
             Dictionary(
                 title=_("Band-spezifische Schwellwerte"),
                 elements=[
                     ("2.4GHz", Tuple(
                         title=_("2.4 GHz"),
                         elements=[Integer(_("Warn"), minvalue=0), Integer(_("Kritisch"), minvalue=0)],
                     )),
                     ("5GHz", Tuple(
                         title=_("5 GHz"),
                         elements=[Integer(_("Warn"), minvalue=0), Integer(_("Kritisch"), minvalue=0)],
                     )),
                     ("6GHz", Tuple(
                         title=_("6 GHz"),
                         elements=[Integer(_("Warn"), minvalue=0), Integer(_("Kritisch"), minvalue=0)],
                     )),
                 ],
                 optional_keys=True,
             )
            ),
        ],
        optional_keys=True,
    )

rulespec_registry.register(
    CheckParameterRulespecWithoutItem(
        check_group_name="xiq_radios_clients",
        group=RulespecGroupCheckParametersApplications,
        parameter_valuespec=_vs_xiq_radios_clients,
        title=lambda: _("XIQ Radios – Clients je Frequenz (Warn/Kritisch)"),
    )
)
